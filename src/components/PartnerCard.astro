---
import type { CollectionEntry } from 'astro:content';

interface Props {
	partner: CollectionEntry<'partners'>;
	locale: 'no' | 'en';
}

const { partner, locale } = Astro.props;
const partnersPath = 'partnere';
---

<article class="flex flex-col overflow-hidden rounded-2xl border border-gray-200 bg-white">
	<!-- Partner Logo -->
	<a href={`/${locale}/${partnersPath}/${partner.slug}`} class="flex h-48 items-center justify-center bg-gray-50 p-8 transition-opacity hover:opacity-75">
		<img
			src={partner.data.logo}
			alt={partner.data.title}
			class="h-full w-full object-contain"
		/>
	</a>

	<!-- Partner Info -->
	<div class="flex flex-1 flex-col p-6">
		<!-- Partner Name and Location -->
		<div class="mb-4">
			<h3 class="text-xl font-semibold text-gray-900 group-hover:text-indigo-600">
				{partner.data.title}
			</h3>
			<p class="mt-1 text-sm text-gray-500">
				<svg class="mr-1 inline-block h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
					<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
				</svg>
				{partner.data.location}
			</p>
		</div>

		<!-- Description -->
		<p class="mb-4 flex-1 text-sm text-gray-600 line-clamp-3">
			{partner.data.description}
		</p>

		<!-- Services Tags -->
		<div class="mb-4 flex flex-wrap gap-2">
			{partner.data.services.slice(0, 3).map((service) => (
				<span class="inline-flex items-center rounded-md bg-indigo-50 px-2 py-1 text-xs font-medium text-indigo-700 ring-1 ring-inset ring-indigo-700/10">
					{service}
				</span>
			))}
		</div>

		<!-- CTA Button -->
		<a
			href={`/${locale}/${partnersPath}/${partner.slug}`}
			class="inline-flex w-full items-center justify-center rounded-md px-3 py-2 text-sm/6 font-semibold text-indigo-600 inset-ring-1 inset-ring-indigo-200 hover:inset-ring-indigo-300 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
		>
			{locale === 'no' ? 'Les mer' : 'Learn more'}
			<svg class="ml-2 h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
			</svg>
		</a>
	</div>
</article>
